<div class="row align-items-center">
    <div class="col-sm" style="margin-left: 50px"><div id="slider-step"></div></div>
</div>

<div id="bargraph-interactive-body">
</div>

<script src="https://unpkg.com/d3-simple-slider"></script>
<script .type="text/javascript">

{{ bargraphjs|safe }}

// Step slider c/o https://bl.ocks.org/johnwalley/e1d256b81e51da68f7feb632a53c3518
var sliderStep = d3
  .sliderBottom()
  .min(1)
  .max(numRounds)
  .width(numRounds * 50)
    .tickFormat(function(d) { return "Round " + d;})
  .ticks(numRounds)
  .step(1)
  .default(numRounds)
  .on('onchange', val => {
    transitionEachBarForRound(val);
  });

var gStep = d3
  .select('div#slider-step')
  .append('svg')
  .attr('width', numRounds * 50 + 100)
  .attr('height', 100)
  .append('g')
  .attr('transform', 'translate(30,30)');

gStep.call(sliderStep);

var interactive = true;
transitionEachBarForRound = makeBarGraph("#bargraph-interactive-body", data, candidatesRange, colors, longestLabelApxWidth, interactive);
</script>
