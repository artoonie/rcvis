{% load static %}

<head>
<link rel="stylesheet" type="text/css" href="{% static 'visualizer/style.css' %}">
</head>

<script>
function handleFiles(files)
{
  document.getElementById("selectFileButton").innerHTML = files[0].name
}
</script>

{% block content %}
  <div class="content">
  <form action="upload.html" enctype="multipart/form-data" method="post" id="form">
    {% csrf_token %}
 	<div class="formArea">
      Visualization options:
	  <div class="options">
        <label><input type="checkbox" name="combineWinner"/> Combine winner-only rounds with the previous transfer round</label>
        <br/>
        <label><input type="checkbox" name="hideDecimals"/> Hide decimal places</label>
        <br/>
        <label><input type="checkbox" name="rotateNames" checked/> Rotate the names of candidates on the top bar</label>
	  </p>
	  <br/>

 	  <div class="selectFileButtonWrapper">
  	    <button id="selectFileButton">Click to select a file</button>
	    <input type="file" class="selectFileDefaultInput" name="rcvJson" accept="application/json"  onchange="handleFiles(this.files)"/>
	  </div>

 	  <div id="submitDiv">
        <button type="submit" class="submitButton">Upload</button>
	  </div>
    </p>
  </form>
  </div>

  {% if uploaded_file_url %}
    <p>File uploaded at: <a href="{{ uploaded_file_url }}">{{ uploaded_file_url }}</a></p>
  {% endif %}

{% endblock %}
