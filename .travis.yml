git:
  depth: 3

branches:
  only:
  - /.*/

language: python
python:
  - '3.6'

install:
  - virtualenv venv
  - source venv/bin/activate
  - pip3 install -e .
  - pip3 install -r requirements.txt

script:
  - python3 manage.py test

deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "gC+lNG3sJEwu0dSCOpCyWT+hdN/cH6xD4aU8r35ra+1XG6OF+Bva7yf9h3YSJNlz4RXd9sCEuZGqiFueO1SOCRsRYCnZdigVWm5Cmb4RwCvigwjCj/i0ulIaKXZqo+4GHVxSLHIjb9nZGbd2WhPhx1cONjtL5HSMoCXOIRkV1ZF9E8axCGDlV7nh6o5inpzx7kxvOX2sqpMkm7NAfWDQ0ki9/Ig+oYXQKoR7SiOGjj4pfQ4cDD6Pvghrkq3I+8hRTe+4IW2dWtm8FhTAHa4bYOSdnVhFvHpmktxoXcOwIk8X7eXvNAYlVg3v7QGeaC7JpE9heMnRwZ6ypCfVpc0kdq8llJBJStoE2srM+ATT/Eh1kHrQwwcy2AmTrTW7cOkaIxAxlNl74J6lTeroZWPj15X5abqd6fFmtpicdM9xu++fr0vO8fDpFtniKHv/8bqw7obI9KQOY+z9D7Xcffkssy1Z9H0lsBdZT+LgffMm4LPNf+PzwXkl9rTyUwhFY5cDNXGjN+GmJZBHLIA3KsioPGA0MEkyuSPyibFk4GgW0vMP3tRSE8yFhyWVxg3075fcM+YheSgZElxTR1+skpLm56T+BZ+rzs8Z+U3Y58fj5Rtfhc7g7J3dypq+UUzxFwjSRdnM6VgrkmvopRGFCeLlwXZwm92jkvCwOMqWdYYx0Wo="
  secret_access_key:
    secure: "NwgecPrhwL8OpmGFm79IupV7RyGvgEme1oj7S3TipjSXkgP/UKG2jvAWgVfruTCuqJCWo+bEf/o2AU7Luh6m8/r93dLvJgS1CqDXQmX5jY2OgqBQCfZdIBlW6xe/fjWKaBFfVOAwLDKvsqfzoey0ZqVBXVJzWEyKpBqV0skaDn52zve32VzZPUpmP/LAsBkErB8bQQ4VbtQH1nCFYaoC4WxV3Wt1X10E5X9ZnjRAcoQfJjhisqoXMipR+4JeP3/h2dNwLCc98LuKsCQ4YnrXlfGjjJmsiUBmu04JA/YqSXSOFGT+JCO4OSzZfUPwbz0ZZXYdVLVeHagOf95jLXfbzjHBNbTpWANoXCtwMt+aUvWAY4U4ijlivJ+59Himd0MIpgvY0fTjVPHNoE0CHNTPMU4iGqFMvJ03Axw4yl5pmNt1xIZ4fOIBEc6jFBKxA+402SbpSGBRiXibLQXxJuIKna6G+2hVRo0qchf0EcDhr310GBbnWqpaSM3Y7zZg0P6FFO4HtgoIm5e6AQUTth9BypNX7sXKYfrEr/pF3yeYC3CVPweRZikIluLSnL/HFh8bjJZjJ5joVcg6jlLfdePsFvfbo+1hyKFVVV7BnAM8Tiv7vdcdKC1HYke1dPgM2nfPqAROr3NeW83myx+n2bUccwuWdt1e6isFDBAIY7aHzTU="
  region: us-west-1
  app: rcvis
  env: django-env-try2
  on:
    repo: artoonie/rcvis
  bucket_name: elasticbeanstalk-us-west-1-872212457283
